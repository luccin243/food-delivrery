(this.webpackJsonpBienfafood=this.webpackJsonpBienfafood||[]).push([[22],{645:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var c=t(5),n=t.n(c),s=t(10),l=t(25),r=t(9),i=t(23),o=t(83),j=t(87),d=t(84),b=t(0),O=t(161),h=t.n(O),m=t(19),u=t.n(m),x=t(636),g=t(251),N=t(1);function f(e){var a=e.data,t=e.total,c=e.page,n=(e.pages,e.loading),s=e.handleChangePage,l=e.handleChangeLength,r=e.displayLength,i=e.handleAction;return Object(N.jsxs)("div",{children:[Object(N.jsxs)(x.a,{height:370,data:a,rowHeight:60,loading:n,children:[Object(N.jsxs)(x.a.Column,{width:150,align:"center",resizable:!0,fixed:!g.isMobile&&"left",children:[Object(N.jsx)(x.a.HeaderCell,{children:"Reference"}),Object(N.jsx)(x.a.Cell,{children:function(e){return Object(N.jsx)("span",{className:"badge badge-primary badge-pill",children:e.reference})}})]}),Object(N.jsxs)(x.a.Column,{width:150,resizable:!0,fixed:!g.isMobile&&"left",children:[Object(N.jsx)(x.a.HeaderCell,{children:"Produit"}),Object(N.jsx)(x.a.Cell,{children:function(e){return e.produit.nom}})]}),Object(N.jsxs)(x.a.Column,{width:150,resizable:!0,children:[Object(N.jsx)(x.a.HeaderCell,{children:"Establishment"}),Object(N.jsx)(x.a.Cell,{children:function(e){return e.ets.nom}})]}),Object(N.jsxs)(x.a.Column,{width:150,align:"center",resizable:!0,children:[Object(N.jsx)(x.a.HeaderCell,{children:"Produit"}),Object(N.jsx)(x.a.Cell,{children:function(e){return"".concat(e.prix.toFixed(2)," $")}})]}),Object(N.jsxs)(x.a.Column,{width:150,align:"center",resizable:!0,children:[Object(N.jsx)(x.a.HeaderCell,{children:"Quantity"}),Object(N.jsx)(x.a.Cell,{dataKey:"quantity"})]}),Object(N.jsxs)(x.a.Column,{width:180,resizable:!0,children:[Object(N.jsx)(x.a.HeaderCell,{children:"State"}),Object(N.jsx)(x.a.Cell,{children:function(e){return function(e){switch(e){case"PENDING_FOR_VALIDATION":return Object(N.jsx)("span",{className:"badge badge-primary badge-pill",children:"PENDING FOR VALIDATION"});case"VALIDATED":return Object(N.jsx)("span",{className:"badge badge-success badge-pill",children:"VALIDATED"});case"DENIED":return Object(N.jsx)("span",{className:"badge badge-danger badge-pill",children:"DENIED"});case"PENDING_FOR_PAYMENT":return Object(N.jsx)("span",{className:"badge badge-warning badge-pill",children:"PENDING FOR PAYMENT"});case"PAYIED":return Object(N.jsx)("span",{className:"badge badge-info badge-pill",children:"PAYIED"});case"CANCELED":return Object(N.jsx)("span",{className:"badge badge-teal badge-pill",children:"CANCELED"});case"CLOSED":return Object(N.jsx)("span",{className:"badge badge-indigo badge-pill",children:"CLOSED"})}}(e.etat)}})]}),Object(N.jsxs)(x.a.Column,{width:200,resizable:!0,children:[Object(N.jsx)(x.a.HeaderCell,{children:"Client"}),Object(N.jsx)(x.a.Cell,{children:function(e){return Object(N.jsxs)("span",{children:[e.client.firstName," ",e.client.lastName]})}})]}),Object(N.jsxs)(x.a.Column,{width:300,resizable:!0,children:[Object(N.jsx)(x.a.HeaderCell,{children:"Date"}),Object(N.jsx)(x.a.Cell,{children:function(e){return u()(e.updatedAt).format("DD MMMM YYYY - HH:mm")}})]}),Object(N.jsxs)(x.a.Column,{width:150,resizable:!0,fixed:!g.isMobile&&"right",children:[Object(N.jsx)(x.a.HeaderCell,{children:"Delivrery man"}),Object(N.jsx)(x.a.Cell,{children:function(e){return e.livreur?Object(N.jsxs)("span",{children:[e.livreur.firstName," ",e.livreur.lastName]}):Object(N.jsx)("span",{children:"-"})}})]}),Object(N.jsxs)(x.a.Column,{width:140,align:"center",fixed:"right",children:[Object(N.jsx)(x.a.HeaderCell,{children:"Action"}),Object(N.jsx)(x.a.Cell,{children:function(e){return Object(N.jsxs)("button",{disabled:"PAYIED"!==e.etat,onClick:function(){return i(e)},class:"btn btn-indigo  btn-border btn-rounded btn-sm",children:[Object(N.jsx)("i",{class:"fa ".concat("CLOSED"===e.etat||"CANCELED"===e.etat?"fa-check-circle":"PAYIED"!==e.etat?"fa-spinner":"fa-check")})," ","PAYIED"===e.etat?"Close":"CLOSED"===e.etat||"CANCELED"===e.etat?"Closed":"Pending"]})}})]})]}),Object(N.jsx)(h.a,{lengthMenu:[{value:5,label:5},{value:10,label:10},{value:20,label:20},{value:50,label:50}],activePage:c,displayLength:r,total:t,onChangePage:s,onChangeLength:l})]})}var p=t(12),v=t(24),C=t(651),E=t(196),D=t(254);function w(e){return Object(N.jsx)(E.a,{className:"m-2",header:"Filters",collapsible:!0,bordered:!0,children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-md-3",children:Object(N.jsx)(D.a,{data:[{label:"PENDING FOR VALIDATION",value:"PENDING_FOR_VALIDATION"},{label:"VALIDATED",value:"VALIDATED"},{label:"DENIED",value:"DENIED"},{label:"PENDING FOR PAYMENT",value:"PENDING_FOR_PAYMENT"},{label:"PAYIED",value:"PAYIED"},{label:"CANCELED",value:"CANCELED"},{label:"CLOSED",value:"CLOSED"}],placeholder:"Filter by status",onChange:e.onChange("status"),block:!0})}),Object(N.jsx)("div",{className:"col-md-3",children:Object(N.jsx)(D.a,{data:e.data,labelKey:"nom",valueKey:"_id",placeholder:"Filter by establishment",onChange:e.onChange("ets"),block:!0})}),Object(N.jsx)("div",{className:"col-md-3",children:Object(N.jsx)(D.a,{data:e.data2,placeholder:"Filter by delivrery man",onChange:e.onChange("livreur"),block:!0})}),Object(N.jsx)("div",{className:"col-md-3",children:Object(N.jsx)(D.a,{data:e.data,labelKey:"nom",valueKey:"_id",placeholder:"Filter by type",onChange:e.onChange("type"),block:!0})})]})})}function k(){var e=Object(p.b)(),a=e.user,t=e.token,c=Object(b.useState)({status:"",ets:"",livreur:"",name:""}),O=Object(i.a)(c,2),h=O[0],m=O[1],u=Object(b.useState)([]),x=Object(i.a)(u,2),g=x[0],E=x[1],D=Object(b.useState)([]),k=Object(i.a)(D,2),y=k[0],A=k[1],I=Object(b.useState)([]),P=Object(i.a)(I,2),L=P[0],S=P[1],M=Object(b.useState)({total:0,page:0,pages:0,limit:10}),_=Object(i.a)(M,2),F=_[0],Y=_[1],H=Object(b.useState)({error:"",success:"",loading:!1}),T=Object(i.a)(H,2),z=T[0],G=T[1],R=Object(b.useState)(!1),V=Object(i.a)(R,2),K=V[0],B=V[1],U=z.loading,J=F.total,W=F.page,q=F.pages,Q=F.limit,$=function(){var e=Object(s.a)(n.a.mark((function e(c){var s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(Object(r.a)(Object(r.a)({},z),{},{loading:!0})),e.next=3,Object(v.c)("/close/commande/".concat(c._id,"/").concat(a._id),t);case 3:if(!(s=e.sent)||!s.error){e.next=6;break}return e.abrupt("return",G(Object(r.a)(Object(r.a)({},z),{},{error:s.error,loading:!1})));case 6:C.a.success(s.message,3e3),G(Object(r.a)(Object(r.a)({},z),{},{loading:!1,success:s.message})),B(!0);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){Object(s.a)(n.a.mark((function e(){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(Object(r.a)(Object(r.a)({},z),{},{loading:!0})),e.next=3,Object(v.b)("/read/all/ets/".concat(a._id,"?limit=").concat(Q,"&page=").concat(W),t);case 3:if(!(c=e.sent)||!c.error){e.next=6;break}return e.abrupt("return",G(Object(r.a)(Object(r.a)({},z),{},{loading:!1,error:c.error})));case 6:E(c&&c.data),Y(Object(r.a)(Object(r.a)({},F),{},{total:c.total,page:c.page})),G(Object(r.a)(Object(r.a)({},z),{},{loading:!1}));case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(b.useEffect)((function(){Object(s.a)(n.a.mark((function e(){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(Object(r.a)(Object(r.a)({},z),{},{loading:!0})),e.next=3,Object(v.b)("/read/all/livreur/".concat(a._id,"?limit=").concat(Q,"&page=").concat(W),t);case 3:if(!(c=e.sent)||!c.error){e.next=6;break}return e.abrupt("return",G(Object(r.a)(Object(r.a)({},z),{},{loading:!1,error:c.error})));case 6:A(c&&c.data),Y(Object(r.a)(Object(r.a)({},F),{},{total:c.total,page:c.page})),G(Object(r.a)(Object(r.a)({},z),{},{loading:!1}));case 9:case"end":return e.stop()}}),e)})))()}),[]),Object(b.useEffect)((function(){Object(s.a)(n.a.mark((function e(){var c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(Object(r.a)(Object(r.a)({},z),{},{loading:!0})),e.next=3,Object(v.b)("/read/all/commande/".concat(a._id,"?limit=").concat(Q,"&page=").concat(W,"&etat=").concat(h.status||"","&ets=").concat(h.ets||"","&livreur=").concat(h.livreur||""),t);case 3:if(!(c=e.sent)||!c.error){e.next=6;break}return e.abrupt("return",G(Object(r.a)(Object(r.a)({},z),{},{loading:!1,error:c.error})));case 6:S(c&&c.data),Y(Object(r.a)(Object(r.a)({},F),{},{total:c.total,page:c.page})),G(Object(r.a)(Object(r.a)({},z),{},{loading:!1}));case 9:case"end":return e.stop()}}),e)})))()}),[Q,K,W,h.ets,h.livreur,h.status]),Object(N.jsxs)(j.a,{children:[Object(N.jsx)(d.a,{parent:"Home",content:"Order",title:"Order management",create:!1}),Object(N.jsx)("section",{className:"main-content",children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)(w,{onChange:function(e){return function(a){m(Object(r.a)(Object(r.a)({},h),{},Object(l.a)({},e,a)))}},data:g,data2:y.map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e._id}}))}),Object(N.jsx)(f,{data:L,total:J,page:W,pages:q,displayLength:Q,loading:U,handleChangePage:function(e){Y(Object(r.a)(Object(r.a)({},F),{},{page:e}))},handleChangeLength:function(e){G(Object(r.a)(Object(r.a)({},z),{},{loading:!0})),Y(Object(r.a)(Object(r.a)({},F),{},{limit:e,page:1}))},handleAction:$})]})}),Object(N.jsx)(o.a,{})]})}},83:function(e,a,t){"use strict";t(0);var c=t(1);a.a=function(){return Object(c.jsx)("footer",{className:"footer",children:Object(c.jsxs)("span",{children:["Copyright \xa9 ",(new Date).getFullYear()," Bienfafood and Designed by"," ",Object(c.jsx)("span",{children:Object(c.jsx)("a",{id:"copyright-link",target:"_blank",href:"https://uptodatedevelopers.com",children:"Uptodate Developers"})})," ","All rights reserved."]})})}},84:function(e,a,t){"use strict";t(0);var c=t(1);a.a=function(e){var a=e.parent,t=e.title,n=e.content,s=e.create,l=e.handelClick,r=e.text;return Object(c.jsxs)("div",{className:"row page-header",children:[Object(c.jsxs)("div",{className:"col-md-6 align-self-center",children:[Object(c.jsx)("h2",{children:t}),Object(c.jsxs)("ol",{className:"breadcrumb",children:[Object(c.jsx)("li",{className:"breadcrumb-item",children:Object(c.jsx)("a",{href:"/",children:a})}),Object(c.jsx)("li",{className:"breadcrumb-item active",children:n})]})]}),s&&Object(c.jsx)("div",{className:"col-md-6 align-self-center text-right",children:Object(c.jsxs)("button",{href:"#","data-toggle":"modal","data-target":".myModal",title:r,onClick:l,className:"btn btn-success box-shadow btn-icon btn-rounded",children:[Object(c.jsx)("i",{className:"fa fa-plus"})," Create new"]})})]})}},87:function(e,a,t){"use strict";var c=t(0),n=t.n(c),s=t(5),l=t.n(s),r=t(10),i=t(23),o=t(15),j=t(2),d=t(12),b=t(14),O=t(1),h=function(e,a){if(e.location.pathname===a)return"active"},m=Object(j.g)((function(e){var a=e.history,t=(e.window,Object(d.b)()),s=t.user,j=(t.token,n.a.useState({firstName:"",lastName:"",role:"",avatar:""})),b=Object(i.a)(j,2),m=b[0],u=b[1];var x=function(e,a){var t=n.a.useState(localStorage.getItem(e)||a),s=Object(i.a)(t,2),l=s[0],r=s[1];return Object(c.useEffect)((function(){localStorage.setItem(e,l)}),[e,l]),[l,r]}("dropDown","none"),g=Object(i.a)(x,2),N=g[0],f=g[1],p=function(){var e=Object(r.a)(l.a.mark((function e(){var a,t,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.firstName,t=s.lastName,c=s.role,n=s.avatar,u({firstName:a,lastName:t,role:c,avatar:n});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){p()}),[]);m.firstName,m.lastName;var v=m.role;m.avatar;return Object(O.jsx)("div",{className:"main-sidebar-nav default-navigation",children:Object(O.jsx)("div",{className:"nano",children:Object(O.jsxs)("div",{className:"nano-content sidebar-nav",children:[Object(O.jsx)("div",{className:"card-body nav-profile",children:Object(O.jsx)("img",{src:"/assets/img/icon1.png",alt:"",srcset:"",width:190})}),Object(O.jsxs)("ul",{className:"metisMenu nav flex-column",id:"menu",children:[Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/")),children:Object(O.jsxs)(o.b,{to:"/",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-home"}),Object(O.jsx)("span",{className:"toggle-none",children:"Home"})]})}),Object(O.jsx)("li",{className:"nav-heading",children:Object(O.jsx)("span",{children:"Application Management"})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/type")),onClick:function(){return f("none")},children:Object(O.jsxs)(o.b,{to:"/type",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-tasks"}),Object(O.jsx)("span",{className:"toggle-none",children:"Type "})]})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/ets")),onClick:function(){return f("none")},children:Object(O.jsxs)(o.b,{to:"/ets",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-building"}),Object(O.jsx)("span",{className:"toggle-none",children:"Establishment "})]})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/menu")),onClick:function(){return f("none")},children:Object(O.jsxs)(o.b,{to:"/menu",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-ticket"}),Object(O.jsx)("span",{className:"toggle-none",children:"Menu "})]})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/meal")),onClick:function(){return f("none")},children:Object(O.jsxs)(o.b,{to:"/meal",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-coffee"}),Object(O.jsx)("span",{className:"toggle-none",children:"Meal "})]})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/order")),onClick:function(){return f("none")},children:Object(O.jsxs)(o.b,{to:"/order",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-shopping-basket"}),Object(O.jsx)("span",{className:"toggle-none",children:"Order "})]})}),Object(O.jsx)("li",{className:"nav-heading",children:Object(O.jsx)("span",{children:"Website Management"})}),Object(O.jsx)("li",{className:"nav-item ".concat("active"===N?"active":""),onClick:function(){f((function(){return"active"===N?"none":"active"}))},children:Object(O.jsxs)(o.b,{to:"#",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-th-large"}),Object(O.jsxs)("span",{className:"toggle-none",children:["Landing Page",Object(O.jsx)("span",{class:"fa arrow",style:{transform:"rotate(180deg)"}})]})]})}),Object(O.jsxs)("ul",{class:"nav-second-level nav flex-column",style:{display:"active"===N?"flex":"none"},children:[Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/banner")),children:Object(O.jsx)(o.b,{to:"/banner",className:"nav-link",children:Object(O.jsx)("span",{className:"toggle-none drop-item",children:"Banner"})})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/why-choose-us")),children:Object(O.jsx)(o.b,{to:"/why-choose-us",className:"nav-link",children:Object(O.jsx)("span",{className:"toggle-none drop-item",children:"Why choose us"})})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/features")),children:Object(O.jsx)(o.b,{to:"/features",className:"nav-link",children:Object(O.jsx)("span",{className:"toggle-none drop-item",children:"Features"})})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/download")),children:Object(O.jsx)(o.b,{to:"/download",className:"nav-link",children:Object(O.jsx)("span",{className:"toggle-none drop-item",children:"Download"})})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/app-screen")),children:Object(O.jsx)(o.b,{to:"/app-screen",className:"nav-link",children:Object(O.jsx)("span",{className:"toggle-none drop-item",children:"App screen"})})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/contact-us")),children:Object(O.jsx)(o.b,{to:"/contact-us",className:"nav-link",children:Object(O.jsx)("span",{className:"toggle-none drop-item",children:"Contact us"})})})]}),(0===v||1===v)&&Object(O.jsx)("li",{className:"nav-heading",children:Object(O.jsx)("span",{children:"User management"})}),(0===v||1===v)&&Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/users")),children:Object(O.jsxs)(o.b,{to:"/users",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-group"}),Object(O.jsx)("span",{className:"toggle-none",children:"User "})]})}),Object(O.jsx)("li",{className:"nav-heading",children:Object(O.jsx)("span",{children:"SETTING"})}),Object(O.jsx)("li",{className:"nav-item ".concat(h(a,"/setting")),onClick:function(){return f("none")},children:Object(O.jsxs)(o.b,{to:"/setting",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-cogs"}),Object(O.jsx)("span",{className:"toggle-none",children:"Setting "})]})})]})]})})})})),u=t(25),x=t(26),g=t(24),N=Object(j.g)((function(e){var a,t=e.history,n=(e.window,Object(d.b)()),s=n.user,j=n.token,h=Object(c.useContext)(x.a),m=Object(c.useState)({firstName:"",lastName:"",role:"",avatar:""}),N=Object(i.a)(m,2),f=N[0],p=N[1],v=h.logo,C=h.icon,E=f.firstName,D=f.lastName;f.role,f.avatar;return Object(c.useEffect)((function(){Object(r.a)(l.a.mark((function e(){var a,t,c,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)("/user/".concat(s._id),j);case 2:a=e.sent,t=a.firstName,c=a.lastName,n=a.role,r=a.avatar,p({firstName:t,lastName:c,role:n,avatar:r});case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(O.jsx)("div",{className:"top-bar primary-top-bar",children:Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsx)("div",{className:"row",children:Object(O.jsxs)("div",{className:"col",children:[Object(O.jsx)("a",{className:"admin-logo",href:"/",children:Object(O.jsxs)("h1",{children:[Object(O.jsx)("img",{alt:"Avatar",src:"".concat(b.a,"/").concat(v),style:{height:"30px"},id:"logo",className:"toggle-none hidden-xs"}),Object(O.jsx)("img",{alt:"icon",src:"".concat(b.a,"/").concat(C),style:{height:"30px"},className:"logo-icon margin-r-10 hidden",id:"icon"})]})}),Object(O.jsx)("div",{className:"left-nav-toggle",children:Object(O.jsx)("a",{href:"#",id:"toogleMenu",className:"nav-collapse",children:Object(O.jsx)("i",{className:"fa fa-bars"})})}),Object(O.jsx)("div",{className:"left-nav-collapsed",children:Object(O.jsx)("a",{href:"#",className:"nav-collapsed",children:Object(O.jsx)("i",{className:"fa fa-bars"})})}),Object(O.jsx)("ul",{className:"list-inline top-right-nav",children:Object(O.jsxs)("li",{className:"dropdown avtar-dropdown",children:[Object(O.jsxs)("a",{className:"dropdown-toggle","data-toggle":"dropdown",href:"#",children:[Object(O.jsx)("img",{alt:"prodil",className:"rounded-circle",src:"/assets/img/avtar-4.png",width:30}),E," ",D]}),Object(O.jsxs)("ul",{className:"dropdown-menu top-dropdown",children:[Object(O.jsx)("li",{children:Object(O.jsxs)(o.b,(a={className:"dropdown-item",to:"/setting"},Object(u.a)(a,"className","nav-link"),Object(u.a)(a,"children",[Object(O.jsx)("i",{className:"icon-settings"}),"Param\xe8tres"]),a))}),Object(O.jsx)("li",{className:"dropdown-divider"}),Object(O.jsx)("li",{children:Object(O.jsxs)("a",{className:"dropdown-item",href:"#",onClick:function(){Object(d.d)((function(){t.push("/login")}))},children:[Object(O.jsx)("i",{className:"icon-logout"})," Se d\xe9connecter"]})})]})]})})]})})})})}));a.a=function(e){var a=e.children;return Object(O.jsxs)("div",{children:[Object(O.jsx)(N,{}),Object(O.jsx)(m,{}),a]})}}}]);
//# sourceMappingURL=22.70697740.chunk.js.map