{"version":3,"sources":["components/login/Login.js"],"names":["Login","useState","error","email","password","loader","redirect","state","setState","logo","useContext","GetConfigContext","handleChange","prop","event","target","value","handelSubmit","a","preventDefault","signin","data","authenticate","className","style","width","height","position","boxSizing","top","isAuthenticated","to","redirectUser","background","backgroundSize","left","opacity","lineHeight","alt","src","API","class","role","type","onClick","data-dismiss","aria-label","onSubmit","for","id","placeholder","onChange","required","name","disabled","cursor","aria-hidden","Date","getFullYear","href"],"mappings":"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","file":"static/js/24.19a703a6.chunk.js","sourcesContent":["import 'rsuite/dist/styles/rsuite-default.css';\r\n\r\nimport React, { useState, useContext } from 'react';\r\nimport { authenticate, isAuthenticated, signin } from '../../api/auth';\r\n\r\nimport { API } from '../../config';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { GetConfigContext } from '../../ConfigContext';\r\n\r\nconst Login = () => {\r\n  const [state, setState] = useState({\r\n    error: '',\r\n    email: '',\r\n    password: '',\r\n    loader: false,\r\n    redirect: false,\r\n  });\r\n\r\n  const configContext = useContext(GetConfigContext);\r\n\r\n  const { logo } = configContext;\r\n\r\n  const onCancel = () => {\r\n    setState({ ...state, error: '', email: '', password: '', loader: false });\r\n  };\r\n\r\n  const { error, email, password, redirect, loader } = state;\r\n\r\n  const handleChange = (prop) => (event) => {\r\n    setState({ ...state, error: false, [prop]: event.target.value });\r\n  };\r\n\r\n  const handelSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setState({ ...state, error: false, loader: true });\r\n    const data = await signin({ email, password });\r\n    if (data.error) {\r\n      setState({ ...state, error: data.error, redirect: false, loader: false });\r\n    } else {\r\n      authenticate(data, () => {\r\n        setState({ ...state, loader: false, redirect: true });\r\n      });\r\n    }\r\n  };\r\n\r\n  const redirectUser = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to='/' />;\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to='/' />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className='wrapper d-flex align-items-center justify-content-center'\r\n      style={{\r\n        width: '100vw',\r\n        height: '100vh',\r\n        position: 'absolute',\r\n        boxSizing: 'border-box',\r\n        top: 0,\r\n      }}\r\n    >\r\n      {redirectUser(redirect)}\r\n      <div className='row w-100 h-100'>\r\n        <div\r\n          className='col-md-6 bg-primary'\r\n          style={{\r\n            background: 'url(/assets/img/bg.jpg) no-repeat',\r\n            backgroundSize: 'cover',\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: '100%',\r\n              height: '100%',\r\n              background: '#000',\r\n              position: 'absolute',\r\n              left: 0,\r\n              opacity: ' 0.5',\r\n            }}\r\n          ></div>\r\n          <div className='row h-100 d-flex align-items-center justify-content-center'>\r\n            <div className='col-md-8 text-center'>\r\n              <h2 style={{ lineHeight: '1.6' }}>\r\n                Welcom to <br /> Bienfafood Admin Panel\r\n              </h2>\r\n              <h5 className='p-3'>\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit.\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='col-md-6 d-flex align-items-center justify-content-center'>\r\n          <div className='row justify-content-center'>\r\n            <div className='col-md-7'>\r\n              <div className='text-center m-4'>\r\n                <img\r\n                  alt='icon'\r\n                  src={`${API}/${logo}`}\r\n                  className='img-fluid p-4'\r\n                />\r\n              </div>\r\n\r\n              {error && (\r\n                <div\r\n                  class='alert bg-danger alert-dismissible fade show'\r\n                  role='alert'\r\n                >\r\n                  {error}\r\n                  <button\r\n                    type='button'\r\n                    class='close'\r\n                    onClick={onCancel}\r\n                    data-dismiss='alert'\r\n                    aria-label='Close'\r\n                  ></button>\r\n                </div>\r\n              )}\r\n              <form onSubmit={handelSubmit}>\r\n                <div className='form-group'>\r\n                  <label for='exampleuser1'>Email</label>\r\n                  <div className='group-icon'>\r\n                    <input\r\n                      id='exampleuser1'\r\n                      type='text'\r\n                      placeholder='Email'\r\n                      className={`form-control ${error && 'is-invalid'}`}\r\n                      onChange={handleChange('email')}\r\n                      required=''\r\n                      name='email'\r\n                    />\r\n                    <span className='icon-user text-muted icon-input'></span>\r\n                  </div>\r\n                </div>\r\n                <div className='form-group'>\r\n                  <label for='exampleInputPassword1'>Mot de passe</label>\r\n                  <div className='group-icon'>\r\n                    <input\r\n                      id='exampleInputPassword1'\r\n                      type='password'\r\n                      name='password'\r\n                      className={`form-control ${error && 'is-invalid'}`}\r\n                      onChange={handleChange('password')}\r\n                      placeholder='Mot de passe'\r\n                    />\r\n                    <span className='icon-lock text-muted icon-input'></span>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  type='submit'\r\n                  disabled={loader}\r\n                  style={{ cursor: 'pointer' }}\r\n                  className='btn btn-block btn-primary btn-rounded box-shadow mt-3'\r\n                >\r\n                  <span\r\n                    class='spinner-grow spinner-grow-sm'\r\n                    role='status'\r\n                    aria-hidden='true'\r\n                  ></span>\r\n                  {loader ? 'Loading...' : 'Connexion'}\r\n                </button>\r\n              </form>\r\n              <div className='text-center m-4'>\r\n                <p className='copyright'>\r\n                  Copyright &copy; {new Date().getFullYear()} Bienfafood App and\r\n                  Designed by{' '}\r\n                  <span>\r\n                    <a\r\n                      id='copyright-link'\r\n                      href='https://uptodatedevelopers.com'\r\n                    >\r\n                      Uptodate Developers\r\n                    </a>\r\n                  </span>{' '}\r\n                  All rights reserved.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}