(this["webpackJsonpstock-mgt"]=this["webpackJsonpstock-mgt"]||[]).push([[19],{624:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return F}));var n=t(15),c=t.n(n),s=t(22),r=t(8),i=t(76),l=t(81),o=t(84),j=t(82),d=t(0),b=t(14),m=t(139),u=t.n(m),O=t(18),h=t.n(O),x=t(613),p=t(1);function g(e){var a=e.data,t=e.total,n=e.page,c=(e.pages,e.loading),s=e.handleChangePage,r=e.handleChangeLength,i=e.displayLength,l=e.handleAction;return Object(p.jsxs)("div",{children:[Object(p.jsxs)(x.a,{height:370,data:a,rowHeight:60,loading:c,children:[Object(p.jsxs)(x.a.Column,{width:150,align:"center",children:[Object(p.jsx)(x.a.HeaderCell,{children:"Image"}),Object(p.jsx)(x.a.Cell,{className:"cell-image",children:function(e){return Object(p.jsx)("div",{className:"cell-image",children:Object(p.jsx)("div",{className:"image-container",children:Object(p.jsx)("img",{className:"image",src:"".concat(b.a,"/").concat(e.image),alt:e.nom})})})}})]}),Object(p.jsxs)(x.a.Column,{width:250,resizable:!0,children:[Object(p.jsx)(x.a.HeaderCell,{children:"Nom"}),Object(p.jsx)(x.a.Cell,{children:function(e){return Object(p.jsxs)(p.Fragment,{children:[e.nom," ",Object(p.jsx)("span",{title:"Establishment",style:{cursor:"help"},className:"badge badge-primary badge-pill",children:"2"})]})}})]}),Object(p.jsxs)(x.a.Column,{width:300,flexGrow:1,children:[Object(p.jsx)(x.a.HeaderCell,{children:"Description"}),Object(p.jsx)(x.a.Cell,{dataKey:"description"})]}),Object(p.jsxs)(x.a.Column,{width:300,children:[Object(p.jsx)(x.a.HeaderCell,{children:"Date"}),Object(p.jsx)(x.a.Cell,{children:function(e){return h()(e.updatedAt).format("DD MMMM YYYY - HH:mm")}})]}),Object(p.jsxs)(x.a.Column,{width:120,fixed:"right",children:[Object(p.jsx)(x.a.HeaderCell,{children:"Action"}),Object(p.jsx)(x.a.Cell,{children:function(e){return Object(p.jsxs)("button",{title:"Edit",onClick:function(){return l(e)},class:"btn btn-success btn-border btn-rounded btn-sm",children:[Object(p.jsx)("i",{class:"fa fa-edit"})," Edit"]})}})]})]}),Object(p.jsx)(u.a,{lengthMenu:[{value:5,label:5},{value:10,label:10},{value:20,label:20},{value:50,label:50}],activePage:n,displayLength:i,total:t,onChangePage:s,onChangeLength:r})]})}var f=t(615),v=t(627),N=t(628),w=t(629),k=t(601),C=t(630),y=t(622),S=t(583),M=t(618),D=t(144),H=t(173);function A(e){var a=e.title,t=e.data,n=e.state,c=e.showModal,s=e.closeModal,r=e.btnStatus,i=e.handleChange,l=e.handleImageChange,o=e.onSubmit;return Object(p.jsxs)(f.a,{size:"xs",show:c,onHide:s,children:[Object(p.jsx)(f.a.Header,{children:Object(p.jsx)(f.a.Title,{children:a})}),Object(p.jsxs)(f.a.Body,{children:[n.loading&&Object(p.jsx)(v.a,{description:Object(p.jsx)(N.a,{content:"Loading..."}),style:{marginBottom:"15px"}}),n.error&&Object(p.jsx)(v.a,{type:"error",description:n.error,style:{marginBottom:"15px"}}),Object(p.jsxs)(w.a,{fluid:!0,onChange:i,children:[Object(p.jsxs)(k.a,{children:[Object(p.jsxs)(C.a,{children:["Name ",Object(p.jsx)("code",{children:"*"})]}),Object(p.jsx)(y.a,{name:"nom",value:t.nom})]}),Object(p.jsxs)(k.a,{children:[Object(p.jsxs)(C.a,{children:["Description ",Object(p.jsx)("code",{children:"*"})]}),Object(p.jsx)(y.a,{rows:3,name:"description",value:t.description,componentClass:"textarea"})]})]}),Object(p.jsx)(S.a,{children:"Image"}),Object(p.jsx)(M.a,{name:"image",listType:"picture",disabled:r,autoUpload:!1,onChange:l,children:Object(p.jsx)("button",{children:Object(p.jsx)(D.a,{icon:"camera-retro",size:"lg"})})})]}),Object(p.jsxs)(f.a.Footer,{children:[Object(p.jsx)(H.a,{onClick:o,appearance:"primary",children:"Submit"}),Object(p.jsx)(H.a,{onClick:s,appearance:"subtle",children:"Cancel"})]})]})}var E=t(10),L=t(78),T=t(623);function F(){var e=Object(d.useState)(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],b=Object(E.b)().user,m=Object(d.useState)({title:"",nom:"",description:"",image:"",formData:new FormData,update:!1}),u=Object(i.a)(m,2),O=u[0],h=u[1],x=Object(d.useState)([]),f=Object(i.a)(x,2),v=f[0],N=f[1],w=Object(d.useState)({total:0,page:0,pages:0,limit:10}),k=Object(i.a)(w,2),C=k[0],y=k[1],S=Object(d.useState)({error:"",success:"",loading:!1}),M=Object(i.a)(S,2),D=M[0],H=M[1],F=Object(d.useState)(!1),I=Object(i.a)(F,2),B=I[0],P=I[1],U=D.loading,Y=C.total,z=C.page,_=C.pages,G=C.limit,J=O.title,W=O.image,K=O.update,R=O.formData;var q=function(){var e=Object(s.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(Object(r.a)(Object(r.a)({},D),{},{loading:!0})),e.next=3,Object(L.a)("/create/type/".concat(b._id),a);case 3:if(!(t=e.sent)||!t.error){e.next=6;break}return e.abrupt("return",H(Object(r.a)(Object(r.a)({},D),{},{error:t.error,loading:!1})));case 6:T.a.success(t.message,3e3),H(Object(r.a)(Object(r.a)({},D),{},{loading:!1,success:t.message})),n(!1),P(!0);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert("Comming Soon !");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(Object(r.a)(Object(r.a)({},D),{},{loading:!0})),e.next=3,Object(L.b)("/read/all/type/".concat(b._id,"?limit=").concat(G,"&page=").concat(z));case 3:if(!(a=e.sent)||!a.error){e.next=6;break}return e.abrupt("return",H(Object(r.a)(Object(r.a)({},D),{},{loading:!1,error:a.error})));case 6:N(a.data),y(Object(r.a)(Object(r.a)({},C),{},{total:a.total,page:a.page})),H(Object(r.a)(Object(r.a)({},D),{},{loading:!1}));case 9:case"end":return e.stop()}}),e)})))()}),[G,B,z]),Object(p.jsxs)(o.a,{children:[Object(p.jsx)(j.a,{parent:"Home",content:"Type",title:"Type management",handelClick:function(){return function(e){h(Object(r.a)(Object(r.a)({},O),{},{title:e})),n(!0)}("Create Type of establishment")},create:!0}),Object(p.jsxs)("section",{className:"main-content",children:[Object(p.jsx)(A,{title:J,data:O,showModal:t,state:D,closeModal:function(){H(Object(r.a)(Object(r.a)({},D),{},{loading:!1,error:""})),n(!1),h(Object(r.a)(Object(r.a)({},O),{},{title:"",nom:"",description:"",image:""}))},btnStatus:!!W,handleChange:function(e,a){H(Object(r.a)(Object(r.a)({},D),{},{loading:!1,error:""}));var t=e.nom,n=e.description;h(Object(r.a)(Object(r.a)({},O),{},{nom:t,description:n})),R.set(a.target.name,a.target.value)},handleImageChange:function(e){H(Object(r.a)(Object(r.a)({},D),{},{loading:!1,error:""})),h(Object(r.a)(Object(r.a)({},O),{},{image:e[0]&&e[0].blobFile})),O.formData.append("image",e[0]&&e[0].blobFile)},onSubmit:function(){return K?Q(R):q(R)}}),Object(p.jsx)("div",{className:"card",children:Object(p.jsx)(g,{data:v,total:Y,page:z,pages:_,displayLength:G,loading:U,handleChangePage:function(e){y(Object(r.a)(Object(r.a)({},C),{},{page:e}))},handleChangeLength:function(e){H(Object(r.a)(Object(r.a)({},D),{},{loading:!0})),y(Object(r.a)(Object(r.a)({},C),{},{limit:e,page:1}))},handleAction:function(e){var a=e.nom,t=e.description;h(Object(r.a)(Object(r.a)({},O),{},{title:"Update ".concat(a,"'s informations"),nom:a,description:t,update:!0})),n(!0)}})})]}),Object(p.jsx)(l.a,{})]})}},78:function(e,a,t){"use strict";t.d(a,"a",(function(){return j})),t.d(a,"b",(function(){return d}));var n=t(15),c=t.n(n),s=t(22),r=t(14),i=t(10),l=Object(i.b)().token,o=t(16).create({baseURL:"".concat(r.a,"/api"),timeout:1e3,headers:{Accept:"application/json",Authorization:"Bearer ".concat(l)}}),j=function(){var e=Object(s.a)(c.a.mark((function e(a,t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.post(a,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=11;break}return e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}(),d=function(){var e=Object(s.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.get(a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response){e.next=11;break}return e.abrupt("return",e.t0.response.data);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},81:function(e,a,t){"use strict";t(0);var n=t(1);a.a=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsxs)("span",{children:["Copyright \xa9 ",(new Date).getFullYear()," Bienfafood and Designed by"," ",Object(n.jsx)("span",{children:Object(n.jsx)("a",{id:"copyright-link",target:"_blank",href:"https://uptodatedevelopers.com",children:"Uptodate Developers"})})," ","All rights reserved."]})})}},82:function(e,a,t){"use strict";t(0);var n=t(1);a.a=function(e){var a=e.parent,t=e.title,c=e.content,s=e.create,r=e.handelClick,i=e.text;return Object(n.jsxs)("div",{className:"row page-header",children:[Object(n.jsxs)("div",{className:"col-md-6 align-self-center",children:[Object(n.jsx)("h2",{children:t}),Object(n.jsxs)("ol",{className:"breadcrumb",children:[Object(n.jsx)("li",{className:"breadcrumb-item",children:Object(n.jsx)("a",{href:"/",children:a})}),Object(n.jsx)("li",{className:"breadcrumb-item active",children:c})]})]}),s&&Object(n.jsx)("div",{className:"col-md-6 align-self-center text-right",children:Object(n.jsxs)("button",{href:"#","data-toggle":"modal","data-target":".myModal",title:i,onClick:r,className:"btn btn-success box-shadow btn-icon btn-rounded",children:[Object(n.jsx)("i",{className:"fa fa-plus"})," Create new"]})})]})}},84:function(e,a,t){"use strict";var n=t(0),c=t.n(n),s=t(15),r=t.n(s),i=t(22),l=t(76),o=t(12),j=t(2),d=t(10),b=t(14),m=t(1),u=function(e,a){if(e.location.pathname===a)return"active"},O=Object(j.g)((function(e){var a=e.history,t=(e.window,Object(d.b)()),s=t.user,j=(t.token,c.a.useState({firstName:"",lastName:"",role:"",avatar:""})),b=Object(l.a)(j,2),O=b[0],h=b[1];var x=function(e,a){var t=c.a.useState(localStorage.getItem(e)||a),s=Object(l.a)(t,2),r=s[0],i=s[1];return Object(n.useEffect)((function(){localStorage.setItem(e,r)}),[e,r]),[r,i]}("dropDown","none"),p=Object(l.a)(x,2),g=p[0],f=p[1],v=function(){var e=Object(i.a)(r.a.mark((function e(){var a,t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.firstName,t=s.lastName,n=s.role,c=s.avatar,h({firstName:a,lastName:t,role:n,avatar:c});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);O.firstName,O.lastName;var N=O.role;O.avatar;return Object(m.jsx)("div",{className:"main-sidebar-nav default-navigation",children:Object(m.jsx)("div",{className:"nano",children:Object(m.jsxs)("div",{className:"nano-content sidebar-nav",children:[Object(m.jsx)("div",{className:"card-body nav-profile",children:Object(m.jsx)("img",{src:"/assets/img/icon1.png",alt:"",srcset:"",width:190})}),Object(m.jsxs)("ul",{className:"metisMenu nav flex-column",id:"menu",children:[Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/")),children:Object(m.jsxs)(o.b,{to:"/",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-home"}),Object(m.jsx)("span",{className:"toggle-none",children:"Home"})]})}),Object(m.jsx)("li",{className:"nav-heading",children:Object(m.jsx)("span",{children:"Application Management"})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/type")),onClick:function(){return f("none")},children:Object(m.jsxs)(o.b,{to:"/type",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-tasks"}),Object(m.jsx)("span",{className:"toggle-none",children:"Type "})]})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/ets")),onClick:function(){return f("none")},children:Object(m.jsxs)(o.b,{to:"/ets",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-building"}),Object(m.jsx)("span",{className:"toggle-none",children:"Establishment "})]})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/menu")),onClick:function(){return f("none")},children:Object(m.jsxs)(o.b,{to:"/menu",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-ticket"}),Object(m.jsx)("span",{className:"toggle-none",children:"Menu "})]})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/meal")),onClick:function(){return f("none")},children:Object(m.jsxs)(o.b,{to:"/meal",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-coffee"}),Object(m.jsx)("span",{className:"toggle-none",children:"Meal "})]})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/order")),onClick:function(){return f("none")},children:Object(m.jsxs)(o.b,{to:"/order",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-shopping-basket"}),Object(m.jsx)("span",{className:"toggle-none",children:"Order "})]})}),Object(m.jsx)("li",{className:"nav-heading",children:Object(m.jsx)("span",{children:"Website Management"})}),Object(m.jsx)("li",{className:"nav-item ".concat("active"===g?"active":""),onClick:function(){f((function(){return"active"===g?"none":"active"}))},children:Object(m.jsxs)(o.b,{to:"#",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-th-large"}),Object(m.jsxs)("span",{className:"toggle-none",children:["Landing Page",Object(m.jsx)("span",{class:"fa arrow",style:{transform:"rotate(180deg)"}})]})]})}),Object(m.jsxs)("ul",{class:"nav-second-level nav flex-column",style:{display:"active"===g?"flex":"none"},children:[Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/banner")),children:Object(m.jsx)(o.b,{to:"/banner",className:"nav-link",children:Object(m.jsx)("span",{className:"toggle-none drop-item",children:"Banner"})})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/why-choose-us")),children:Object(m.jsx)(o.b,{to:"/why-choose-us",className:"nav-link",children:Object(m.jsx)("span",{className:"toggle-none drop-item",children:"Why choose us"})})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/features")),children:Object(m.jsx)(o.b,{to:"/features",className:"nav-link",children:Object(m.jsx)("span",{className:"toggle-none drop-item",children:"Features"})})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/download")),children:Object(m.jsx)(o.b,{to:"/download",className:"nav-link",children:Object(m.jsx)("span",{className:"toggle-none drop-item",children:"Download"})})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/app-screen")),children:Object(m.jsx)(o.b,{to:"/app-screen",className:"nav-link",children:Object(m.jsx)("span",{className:"toggle-none drop-item",children:"App screen"})})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/contact-us")),children:Object(m.jsx)(o.b,{to:"/contact-us",className:"nav-link",children:Object(m.jsx)("span",{className:"toggle-none drop-item",children:"Contact us"})})})]}),(0===N||1===N)&&Object(m.jsx)("li",{className:"nav-heading",children:Object(m.jsx)("span",{children:"User management"})}),(0===N||1===N)&&Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/users")),children:Object(m.jsxs)(o.b,{to:"/users",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-group"}),Object(m.jsx)("span",{className:"toggle-none",children:"User "})]})}),Object(m.jsx)("li",{className:"nav-heading",children:Object(m.jsx)("span",{children:"SETTING"})}),Object(m.jsx)("li",{className:"nav-item ".concat(u(a,"/setting")),onClick:function(){return f("none")},children:Object(m.jsxs)(o.b,{to:"/setting",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-cogs"}),Object(m.jsx)("span",{className:"toggle-none",children:"Setting "})]})})]})]})})})})),h=t(23),x=t(8),p=t(78),g=Object(j.g)((function(e){var a,t=e.history,c=(e.window,Object(d.b)().user),s=Object(n.useState)({firstName:"",lastName:"",role:"",avatar:""}),j=Object(l.a)(s,2),u=j[0],O=j[1],g=function(){var e=Object(i.a)(r.a.mark((function e(){var a,t,n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=c.firstName,t=c.lastName,n=c.role,s=c.avatar,O({firstName:a,lastName:t,role:n,avatar:s});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(n.useState)({logo:"icon.png",icon:"icon.png"}),v=Object(l.a)(f,2),N=v[0],w=v[1],k=N.logo,C=N.icon;Object(n.useEffect)((function(){g(),Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)("/read/config/");case 2:a=e.sent,w(Object(x.a)(Object(x.a)({},N),{},{logo:a.logo,icon:a.icon}));case 4:case"end":return e.stop()}}),e)})))()}),[]);var y=u.firstName,S=u.lastName;u.role,u.avatar;return Object(m.jsx)("div",{className:"top-bar primary-top-bar",children:Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col",children:[Object(m.jsx)("a",{className:"admin-logo",href:"/",children:Object(m.jsxs)("h1",{children:[Object(m.jsx)("img",{alt:"Avatar",src:"".concat(b.a,"/").concat(k),style:{height:"30px"},id:"logo",className:"toggle-none hidden-xs"}),Object(m.jsx)("img",{alt:"icon",src:"".concat(b.a,"/").concat(C),style:{height:"30px"},className:"logo-icon margin-r-10 hidden",id:"icon"})]})}),Object(m.jsx)("div",{className:"left-nav-toggle",children:Object(m.jsx)("a",{href:"#",id:"toogleMenu",className:"nav-collapse",children:Object(m.jsx)("i",{className:"fa fa-bars"})})}),Object(m.jsx)("div",{className:"left-nav-collapsed",children:Object(m.jsx)("a",{href:"#",className:"nav-collapsed",children:Object(m.jsx)("i",{className:"fa fa-bars"})})}),Object(m.jsx)("ul",{className:"list-inline top-right-nav",children:Object(m.jsxs)("li",{className:"dropdown avtar-dropdown",children:[Object(m.jsxs)("a",{className:"dropdown-toggle","data-toggle":"dropdown",href:"#",children:[Object(m.jsx)("img",{alt:"prodil",className:"rounded-circle",src:"/assets/img/avtar-4.png",width:30}),y," ",S]}),Object(m.jsxs)("ul",{className:"dropdown-menu top-dropdown",children:[Object(m.jsx)("li",{children:Object(m.jsxs)(o.b,(a={className:"dropdown-item",to:"/setting"},Object(h.a)(a,"className","nav-link"),Object(h.a)(a,"children",[Object(m.jsx)("i",{className:"icon-settings"}),"Param\xe8tres"]),a))}),Object(m.jsx)("li",{className:"dropdown-divider"}),Object(m.jsx)("li",{children:Object(m.jsxs)("a",{className:"dropdown-item",href:"#",onClick:function(){Object(d.d)((function(){t.push("/login")}))},children:[Object(m.jsx)("i",{className:"icon-logout"})," Se d\xe9connecter"]})})]})]})})]})})})})}));a.a=function(e){var a=e.children;return Object(m.jsxs)("div",{children:[Object(m.jsx)(g,{}),Object(m.jsx)(O,{}),a]})}}}]);
//# sourceMappingURL=19.8c7dd079.chunk.js.map